import{d as S,f as c,g as h,h as F,j as I,c as T,w as l,r as a,o as i,a as j,k as t,l as _,e as p,m as D,F as E,n as L,v as M,p as P,t as q}from"./index-BPrIJtq4.js";const z={key:0,class:"error-list"},H=S({__name:"Settings",setup(A){const r=c(!1),d=c(""),o=c(""),s=h();s&&s.value&&(d.value=s.value.name||""),typeof window<"u"&&(r.value=(window.localStorage.getItem("theme")||"light")==="dark");const g=F();I(r,v=>{const e=v?"dark":"light";try{g.global.name.value=e}catch{}typeof window<"u"&&window.localStorage.setItem("theme",e)},{immediate:!0});const u=c([]),V=async()=>{if(u.value=[],o.value){const e=M(o.value);if(!e.valid){u.value=e.reasons;return}}const v=s&&s.value?s.value.username:"alice";await P(v,{name:d.value,password:o.value||void 0}),o.value=""};return(v,e)=>{const m=a("v-card-title"),f=a("v-text-field"),w=a("v-card-text"),k=a("v-spacer"),y=a("v-btn"),x=a("v-card-actions"),U=a("v-divider"),b=a("v-switch"),C=a("v-card"),B=a("v-container");return i(),T(B,{class:"pa-4"},{default:l(()=>[e[6]||(e[6]=j("h2",null,"設定",-1)),t(C,{class:"pa-4"},{default:l(()=>[t(m,null,{default:l(()=>[...e[3]||(e[3]=[_("ユーザー情報",-1)])]),_:1}),t(w,null,{default:l(()=>[t(f,{label:"表示名",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=n=>d.value=n)},null,8,["modelValue"]),t(f,{label:"新しいパスワード",modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=n=>o.value=n),type:"password"},null,8,["modelValue"])]),_:1}),t(x,null,{default:l(()=>[u.value.length?(i(),p("div",z,[(i(!0),p(E,null,L(u.value,(n,N)=>(i(),p("div",{key:N,class:"error-item"},q(n),1))),128))])):D("",!0),t(k),t(y,{color:"primary",onClick:V},{default:l(()=>[...e[4]||(e[4]=[_("保存",-1)])]),_:1})]),_:1}),t(U,{class:"my-4"}),t(m,null,{default:l(()=>[...e[5]||(e[5]=[_("テーマ設定",-1)])]),_:1}),t(w,null,{default:l(()=>[t(b,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=n=>r.value=n),label:"ダークモード"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})}}});export{H as default};
